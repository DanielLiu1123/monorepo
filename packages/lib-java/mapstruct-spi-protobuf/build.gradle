plugins{
    id "com.google.protobuf"
}

dependencies {
    api "org.jspecify:jspecify"
    compileOnly "org.mapstruct:mapstruct:${mapstructVersion}"
    compileOnly "org.mapstruct:mapstruct-processor:${mapstructVersion}"
    compileOnly "com.google.protobuf:protobuf-java"
    compileOnly "com.google.api.grpc:proto-google-common-protos"

    testImplementation "org.mapstruct:mapstruct:${mapstructVersion}"
    testImplementation "org.mapstruct:mapstruct-processor:${mapstructVersion}" // test with compile-testing
    testAnnotationProcessor "org.mapstruct:mapstruct-processor:${mapstructVersion}"
    testAnnotationProcessor project(":packages:lib-java:mapstruct-spi-protobuf")
    testImplementation "com.google.protobuf:protobuf-java"
    testImplementation "com.google.api.grpc:proto-google-common-protos"
    testImplementation "com.google.testing.compile:compile-testing:${compileTestingVersion}"
}

protobuf {
    protoc {
        artifact = "com.google.protobuf:protoc:${protobufVersion}"
    }
}